<ion-header>
  <app-header [title]="title">
  </app-header>
</ion-header>

<ion-content class="ion-margin ion-padding">

  <ion-card class="SignupCard ion-margin ion-no-padding">

    <div class="registration-form">
      <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
        <ion-row class="ion-no-margin ion-no-padding">
          <ion-col class="ion-no-margin ion-no-padding">
            <ion-list class="ion-no-margin ion-no-padding">

              <ion-item-divider class="ion-no-margin" sticky="true" color="dark">
                <ion-label>
                  <ion-icon class="divider-icon" slot="start" name="mail"></ion-icon>
                  Account Information
                </ion-label>
              </ion-item-divider>

              <ion-item>
                <ion-label position="floating">E-Mail address
                  <ion-text color="danger">*</ion-text>
                </ion-label>
                <ion-input autocomplete="email" formControlName="email" name="email" required
                           type="email"></ion-input>
              </ion-item>
              <div class="validation-errors">
                <ng-container *ngFor="let validation of registrationMessages.email">
                  <div class="error-message"
                       *ngIf="registrationForm.get('email').hasError(validation.type) && (registrationForm.get('email').dirty || registrationForm.get('email').touched)">
                    <ion-icon name="information-circle-outline"></ion-icon>
                    {{ validation.message }}
                  </div>
                </ng-container>
              </div>

              <div formGroupName="matchingPasswords">

                <ion-item>
                  <ion-label position="floating">Password
                    <ion-text color="danger">*</ion-text>
                  </ion-label>
                  <ion-input autocomplete="new-password" formControlName="password" name="password"
                             type="password"
                             required></ion-input>
                </ion-item>
                <div class="validation-errors">
                  <ng-container *ngFor="let validation of registrationMessages.password">
                    <div class="error-message"
                         *ngIf="registrationForm.get('matchingPasswords').get('password').hasError(validation.type) && (registrationForm.get('matchingPasswords').get('password').dirty || registrationForm.get('matchingPasswords').get('password').touched)">
                      <ion-icon name="information-circle-outline"></ion-icon>
                      {{ validation.message }}
                    </div>
                  </ng-container>
                </div>

                <ion-item>
                  <ion-label position="floating">Confirm password
                    <ion-text color="danger">*</ion-text>
                  </ion-label>
                  <ion-input formControlName="confirmPassword" name="confirmPassword"
                             type="password"
                             autocomplete="new-password"
                             required></ion-input>
                </ion-item>
                <div class="validation-errors">
                  <ng-container *ngFor="let validation of registrationMessages.confirmPassword">
                    <div class="error-message"
                         *ngIf="registrationForm.get('matchingPasswords').get('confirmPassword').hasError(validation.type) && (registrationForm.get('matchingPasswords').get('confirmPassword').dirty || registrationForm.get('matchingPasswords').get('confirmPassword').touched)">
                      <ion-icon name="information-circle-outline"></ion-icon>
                      {{ validation.message }}
                    </div>
                  </ng-container>
                </div>
              </div>

              <div class="validation-errors">
                <ng-container *ngFor="let validation of registrationMessages.matchingPasswords">
                  <div class="error-message"
                       *ngIf="registrationForm.get('matchingPasswords').hasError(validation.type) && (registrationForm.get('matchingPasswords').get('confirmPassword').dirty || registrationForm.get('matchingPasswords').get('confirmPassword').touched)">
                    <ion-icon name="information-circle-outline"></ion-icon>
                    {{ validation.message }}
                  </div>
                </ng-container>
              </div>

              <ion-item-divider class="ion-margin-top" sticky="true" color="dark">
                <ion-label>
                  <ion-icon class="divider-icon" slot="start" name="person"></ion-icon>
                  Personal Information
                </ion-label>
              </ion-item-divider>

              <ion-item>
                <ion-label position="floating">First name
                  <ion-text color="danger">*</ion-text>
                </ion-label>
                <ion-input autocomplete="given-name" formControlName="firstName" name="firstName"
                           type="text"
                           required></ion-input>
              </ion-item>
              <div class="validation-errors">
                <ng-container *ngFor="let validation of registrationMessages.firstName">
                  <div class="error-message"
                       *ngIf="registrationForm.get('firstName').hasError(validation.type) && (registrationForm.get('firstName').dirty || registrationForm.get('firstName').touched)">
                    <ion-icon name="information-circle-outline"></ion-icon>
                    {{ validation.message }}
                  </div>
                </ng-container>
              </div>

              <ion-item>
                <ion-label position="floating">Last name
                  <ion-text color="danger">*</ion-text>
                </ion-label>
                <ion-input autocomplete="family-name" formControlName="lastName" name="lastName"
                           type="text"
                           required></ion-input>
              </ion-item>
              <div class="validation-errors">
                <ng-container *ngFor="let validation of registrationMessages.lastName">
                  <div class="error-message"
                       *ngIf="registrationForm.get('lastName').hasError(validation.type) && (registrationForm.get('lastName').dirty || registrationForm.get('lastName').touched)">
                    <ion-icon name="information-circle-outline"></ion-icon>
                    {{ validation.message }}
                  </div>
                </ng-container>
              </div>

              <!--              <ion-item>
                              <ion-label position="floating">Street</ion-label>
                              <ion-input autocomplete="street-address" formControlName="street" name="street"
                                         type="text"
                                         required></ion-input>
                            </ion-item>
                            <div class="validation-errors">
                              <ng-container *ngFor="let validation of registrationMessages.street">
                                <div class="error-message"
                                     *ngIf="registrationForm.get('street').hasError(validation.type) && (registrationForm.get('street').dirty || registrationForm.get('street').touched)">
                                  <ion-icon name="information-circle-outline"></ion-icon>
                                  {{ validation.message }}
                                </div>
                              </ng-container>
                            </div>-->

              <ion-item>
                <ion-label position="floating">Postal code</ion-label>
                <ion-input autocomplete="postal-code" formControlName="postalCode" name="postalCode"
                           type="text"
                           required></ion-input>
              </ion-item>
              <div class="validation-errors">
                <ng-container *ngFor="let validation of registrationMessages.postalCode">
                  <div class="error-message"
                       *ngIf="registrationForm.get('postalCode').hasError(validation.type) && (registrationForm.get('postalCode').dirty || registrationForm.get('postalCode').touched)">
                    <ion-icon name="information-circle-outline"></ion-icon>
                    {{ validation.message }}
                  </div>
                </ng-container>
              </div>

              <ion-item>
                <ion-label position="floating">City</ion-label>
                <ion-input autocomplete="address-level2" formControlName="city" name="city"
                           type="text"
                           required></ion-input>
              </ion-item>
              <div class="validation-errors">
                <ng-container *ngFor="let validation of registrationMessages.city">
                  <div class="error-message"
                       *ngIf="registrationForm.get('city').hasError(validation.type) && (registrationForm.get('city').dirty || registrationForm.get('city').touched)">
                    <ion-icon name="information-circle-outline"></ion-icon>
                    {{ validation.message }}
                  </div>
                </ng-container>
              </div>


              <ion-item-divider class="ion-margin-top" sticky="true" color="dark">
                <ion-label>
                  <ion-icon class="divider-icon" name="book" slot="start"></ion-icon>
                  Legal Matters
                </ion-label>
              </ion-item-divider>

              <!--              <ion-button class="terms ion-text-capitalize" expand="block" fill="outline" href="/terms-conditions"
                                        routerDirection="forward" target="_blank" type="button">
                            <span class="ion-text-left">Terms & Conditions
                            <ion-icon class="left-margin" name="open"></ion-icon></span>
                            </ion-button>

                            <ion-button class="terms ion-text-capitalize" expand="block" fill="outline" href="/privacy-policy"
                                        routerDirection="forward" target="_blank" type="button">
                            <span class="ion-text-left">Privacy Policy
                            <ion-icon class="left-margin" name="open"></ion-icon></span>
                            </ion-button>-->

              <ion-item>
                <ion-label class="ion-text-wrap">I have read and agree to the <a href="/terms-conditions"
                                                                                 target="_blank">terms and
                  conditions</a> and to the <a href="/privacy-policy" target="_blank">privacy policy</a> .
                </ion-label>
                <ion-checkbox formControlName="terms" name="terms"></ion-checkbox>
              </ion-item>

              <div class="validation-errors">
                <ng-container *ngFor="let validation of registrationMessages.terms">
                  <div class="error-message"
                       *ngIf="registrationForm.get('terms').hasError(validation.type) && (registrationForm.get('terms').dirty || registrationForm.get('terms').touched)">
                    <ion-icon name="information-circle-outline"></ion-icon>
                    {{ validation.message }}
                  </div>
                </ng-container>
              </div>


              <ion-row class="ion-no-margin ion-no-padding">
                <ion-col class="ion-no-margin ion-no-padding">
                  <ion-button class="submit-btn ion-no-margin ion-no-padding" expand="full" type="submit"
                              [disabled]="!registrationForm.valid"
                  >
                    <ion-icon class="button-icon" slot="start" name="person-add"></ion-icon>
                    Register
                  </ion-button>
                </ion-col>
              </ion-row>

            </ion-list>
          </ion-col>
        </ion-row>

      </form>
    </div>

  </ion-card>
</ion-content>
